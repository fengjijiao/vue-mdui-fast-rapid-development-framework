{"remainingRequest":"/home/app/Www/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/app/Www/app/src/components/Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/app/Www/app/src/components/Menu.vue","mtime":1583587321825},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdNZW51JywKICAgIHByb3BzOiB7CiAgICAgICAgLy8KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzU2lnbkluOiBmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2hvd1NldHRpbmdzRGlhbG9nOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHRoYXQ9dGhpczsKICAgICAgICAgICAgdGhhdC5tZHVpLmRpYWxvZyh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+iuvue9ricsCiAgICAgICAgICAgICAgICBjb250ZW50Oic8Zm9ybSBpZD0iZm9ybVNldHRpbmdzIj4nIAogICAgICAgICAgICAgICAgICAgICsnPHAgY2xhc3M9Im1kdWktdHlwby1zdWJoZWFkaW5nIj7kuLvpopjoibI8L3A+JwogICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS1yb3cteHMtMyI+JwogICAgICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAgICAgKyc8ZGl2IGNsYXNzPSJtZHVpLWNvbCI+JwogICAgICAgICAgICAgICAgICAgICsnPGxhYmVsIGNsYXNzPSJtZHVpLXJhZGlvIj4nCiAgICAgICAgICAgICAgICAgICAgKyc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImlzTGlnaHRDb2xvciIgdmFsdWU9InRydWUiICcrKHRoYXQuaXNMaWdodENvbG9yPydjaGVja2VkJzonJykrJy8+JwogICAgICAgICAgICAgICAgICAgICsnPGkgY2xhc3M9Im1kdWktcmFkaW8taWNvbiI+PC9pPicKICAgICAgICAgICAgICAgICAgICArJ0xpZ2h0JwogICAgICAgICAgICAgICAgICAgICsnPC9sYWJlbD4nCiAgICAgICAgICAgICAgICAgICAgKyc8L2Rpdj4nCiAgICAgICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgICAgICArJzxkaXYgY2xhc3M9Im1kdWktY29sIj4nCiAgICAgICAgICAgICAgICAgICAgKyc8bGFiZWwgY2xhc3M9Im1kdWktcmFkaW8iPicKICAgICAgICAgICAgICAgICAgICArJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iaXNMaWdodENvbG9yIiB2YWx1ZT0iZmFsc2UiICcrKHRoYXQuaXNMaWdodENvbG9yPycnOidjaGVja2VkJykrJy8+JwogICAgICAgICAgICAgICAgICAgICsnPGkgY2xhc3M9Im1kdWktcmFkaW8taWNvbiI+PC9pPicKICAgICAgICAgICAgICAgICAgICArJ0RhcmsnCiAgICAgICAgICAgICAgICAgICAgKyc8L2xhYmVsPicKICAgICAgICAgICAgICAgICAgICArJzwvZGl2PicKICAgICAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgICAgICsnPC9kaXY+JwogICAgICAgICAgICAgICAgICAgICsnPC9mcm9tPicsCiAgICAgICAgICAgICAgICBidXR0b25zOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5Y+W5raIJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn56Gu6K6kJywKICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGhhdC5nbG9iYWwuZm9ybVNlcmlhbGl6ZUFycmF5VG9EaWN0KHRoYXQuJCQoJ2Zvcm0jZm9ybVNldHRpbmdzJykuc2VyaWFsaXplQXJyYXkoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYnVzLiRlbWl0KCdnbG9iYWxfdGhlbWVDb2xvcicsIGZvcm1EYXRhLmlzTGlnaHRDb2xvcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RvcmUuc2V0KCdpc0xpZ2h0Q29sb3InLCBmb3JtRGF0YS5pc0xpZ2h0Q29sb3IpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmb3JtRGF0YS5pc0xpZ2h0Q29sb3IgIT0gdGhhdC5pc0xpZ2h0Q29sb3IpIHRoYXQuZ2xvYmFsLnRvZ2dsZUJvZHlDbGFzcygibWR1aS10aGVtZS1sYXlvdXQtZGFyayIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pc0xpZ2h0Q29sb3IgPSBmb3JtRGF0YS5pc0xpZ2h0Q29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm1kdWkuc25hY2tiYXIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5L+d5a2Y5a6M5oiQJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2hvd1NpZ25JbkRpYWxvZzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciB0aGF0PXRoaXM7CiAgICAgICAgICAgIHRoYXQubWR1aS5kaWFsb2coewogICAgICAgICAgICAgICAgdGl0bGU6ICfnmbvlvZUnLAogICAgICAgICAgICAgICAgY29udGVudDogJzxmb3JtIGlkPSJmb3JtU2lnbkluIj4nCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICArJzxkaXYgY2xhc3M9Im1kdWktdGV4dGZpZWxkIG1kdWktdGV4dGZpZWxkLWZsb2F0aW5nLWxhYmVsIj4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGxhYmVsIGNsYXNzPSJtZHVpLXRleHRmaWVsZC1sYWJlbCI+55So5oi35ZCNPC9sYWJlbD4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGlucHV0IGNsYXNzPSJtZHVpLXRleHRmaWVsZC1pbnB1dCIgdHlwZT0idGV4dCIgbmFtZT0idXNlcm5hbWUiIHJlcXVpcmVkLz4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS10ZXh0ZmllbGQtZXJyb3IiPueUqOaIt+WQjeS4jeiDveS4uuepujwvZGl2PicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8L2Rpdj4nCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICArJzxkaXYgY2xhc3M9Im1kdWktdGV4dGZpZWxkIG1kdWktdGV4dGZpZWxkLWZsb2F0aW5nLWxhYmVsIj4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGxhYmVsIGNsYXNzPSJtZHVpLXRleHRmaWVsZC1sYWJlbCI+5a+G56CBPC9sYWJlbD4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGlucHV0IGNsYXNzPSJtZHVpLXRleHRmaWVsZC1pbnB1dCIgdHlwZT0idGV4dCIgcGF0dGVybj0iXi4qKD89Lns2LH0pKD89LipbYS16XSkoPz0uKltBLVpdKS4qJCIgbmFtZT0icGFzc3dvcmQiIHJlcXVpcmVkLz4nCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS10ZXh0ZmllbGQtZXJyb3IiPuWvhueggeiHs+WwkSA2IOS9je+8jOS4lOWMheWQq+Wkp+Wwj+WGmeWtl+avjTwvZGl2PicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8L2Rpdj4nCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICArJzwvZm9ybT4nLAogICAgICAgICAgICAgICAgYnV0dG9uczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+WPlua2iCcKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+ehruiupCcsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHRoYXQuZ2xvYmFsLmZvcm1TZXJpYWxpemVBcnJheVRvRGljdCh0aGF0LiQkKCdmb3JtI2Zvcm1TaWduSW4nKS5zZXJpYWxpemVBcnJheSgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kLnBvc3QoJ2h0dHBzOi8vYXBpLmZlbmdqaWppYW8uY24vdjEvdXNlci9zaWduSW4nLCB7dXNlcm5hbWU6IGZvcm1EYXRhLnVzZXJuYW1lLCBwYXNzd29yZDogZm9ybURhdGEucGFzc3dvcmR9LCBmdW5jdGlvbihyZXMpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tZHVpLnNuYWNrYmFyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5pc1NpZ25JbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5nbG9iYWwudmlzaXRvci5pc1NpZ25JbiA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdG9yZS5zZXQoJ3V1aWQnLCByZXMuZGF0YS51dWlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tZHVpLnNuYWNrYmFyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCJqc29uIikKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHNob3dTaWduT3V0RGlhbG9nOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zdG9yZS5yZW1vdmUoJ3V1aWQnKQogICAgICAgICAgICB0aGlzLmdsb2JhbC52aXNpdG9yLmlzU2lnbkluID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5pc1NpZ25JbiA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMubWR1aS5hbGVydCgn6YCA5Ye65a6M5oiQJykKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmlzTGlnaHRDb2xvciA9IHRoaXMuc3RvcmUuaGFzKCdpc0xpZ2h0Q29sb3InKT90aGlzLnN0b3JlLmdldCgnaXNMaWdodENvbG9yJyk6dHJ1ZQogICAgICAgIGlmKHRoaXMuc3RvcmUuaGFzKCd1dWlkJykpIHRoaXMuaXNTaWduSW4gPSB0cnVlCiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAvKidnbG9iYWwudmlzaXRvci5pc1NpZ25Jbic6IHsKICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKXsKICAgICAgICAgICAgICAgIHRoaXMuaXNTaWduSW4gPSB0aGlzLmdsb2JhbC52aXNpdG9yLmlzU2lnbkluCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygid2F0Y2giLHRoaXMuZ2xvYmFsLnZpc2l0b3IuaXNTaWduSW4sbmV3VmFsLG9sZFZhbCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVlcDogdHJ1ZSwKICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICAgICAgfSovCiAgICAgICAgLy8g5aaC5p6c6Lev55Sx5pyJ5Y+Y5YyW77yM5Lya5YaN5qyh5omn6KGM6K+l5pa55rOVCiAgICAgICAgLy8nJHJvdXRlJzogJ2dldFZpc2l0b3JJbmZvcm1hdGlvbicKICAgIH0KfQo="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <ul class=\"mdui-menu\" id=\"right-menu\">\n        <li class=\"mdui-menu-item\">\n            <a href=\"javascript:;\" class=\"mdui-ripple\">Refresh</a>\n        </li>\n        <li class=\"mdui-menu-item\" disabled>\n            <a href=\"javascript:;\">Help & feedback</a>\n        </li>\n        <li class=\"mdui-menu-item\">\n            <a v-on:click=\"showSettingsDialog\" class=\"mdui-ripple\">Settings</a>\n        </li>\n        <li class=\"mdui-divider\"></li>\n        <li class=\"mdui-menu-item\" v-if=\"isSignIn\">\n            <a v-on:click=\"showSignOutDialog\" class=\"mdui-ripple\">Sign out</a>\n        </li>\n        <li class=\"mdui-menu-item\" v-else>\n            <a v-on:click=\"showSignInDialog\" class=\"mdui-ripple\">Sign in</a>\n        </li>\n    </ul>\n</template>\n\n<script>\nexport default {\n    name: 'Menu',\n    props: {\n        //\n    },\n    data() {\n        return {\n            isSignIn: false\n        }\n    },\n    methods: {\n        showSettingsDialog: function() {\n            var that=this;\n            that.mdui.dialog({\n                title: '设置',\n                content:'<form id=\"formSettings\">' \n                    +'<p class=\"mdui-typo-subheading\">主题色</p>'\n                    +'<div class=\"mdui-row-xs-3\">'\n                    //\n                    +'<div class=\"mdui-col\">'\n                    +'<label class=\"mdui-radio\">'\n                    +'<input type=\"radio\" name=\"isLightColor\" value=\"true\" '+(that.isLightColor?'checked':'')+'/>'\n                    +'<i class=\"mdui-radio-icon\"></i>'\n                    +'Light'\n                    +'</label>'\n                    +'</div>'\n                    //\n                    +'<div class=\"mdui-col\">'\n                    +'<label class=\"mdui-radio\">'\n                    +'<input type=\"radio\" name=\"isLightColor\" value=\"false\" '+(that.isLightColor?'':'checked')+'/>'\n                    +'<i class=\"mdui-radio-icon\"></i>'\n                    +'Dark'\n                    +'</label>'\n                    +'</div>'\n                    //\n                    +'</div>'\n                    +'</from>',\n                buttons: [\n                    {\n                        text: '取消'\n                    },\n                    {\n                        text: '确认',\n                        onClick: function(){\n                            const formData = that.global.formSerializeArrayToDict(that.$$('form#formSettings').serializeArray())\n                            that.bus.$emit('global_themeColor', formData.isLightColor)\n                            that.store.set('isLightColor', formData.isLightColor)\n                            if(formData.isLightColor != that.isLightColor) that.global.toggleBodyClass(\"mdui-theme-layout-dark\")\n                                that.isLightColor = formData.isLightColor\n                                that.mdui.snackbar({\n                                    message: '保存完成'\n                                });\n                        }\n                    }\n                ]\n            })\n        },\n        showSignInDialog: function() {\n            var that=this;\n            that.mdui.dialog({\n                title: '登录',\n                content: '<form id=\"formSignIn\">'\n                        \n                        +'<div class=\"mdui-textfield mdui-textfield-floating-label\">'\n                        +'<label class=\"mdui-textfield-label\">用户名</label>'\n                        +'<input class=\"mdui-textfield-input\" type=\"text\" name=\"username\" required/>'\n                        +'<div class=\"mdui-textfield-error\">用户名不能为空</div>'\n                        +'</div>'\n                        \n                        +'<div class=\"mdui-textfield mdui-textfield-floating-label\">'\n                        +'<label class=\"mdui-textfield-label\">密码</label>'\n                        +'<input class=\"mdui-textfield-input\" type=\"text\" pattern=\"^.*(?=.{6,})(?=.*[a-z])(?=.*[A-Z]).*$\" name=\"password\" required/>'\n                        +'<div class=\"mdui-textfield-error\">密码至少 6 位，且包含大小写字母</div>'\n                        +'</div>'\n                        \n                        +'</form>',\n                buttons: [\n                    {\n                        text: '取消'\n                    },\n                    {\n                        text: '确认',\n                        onClick: function(){\n                            const formData = that.global.formSerializeArrayToDict(that.$$('form#formSignIn').serializeArray())\n                            that.$.post('https://api.fengjijiao.cn/v1/user/signIn', {username: formData.username, password: formData.password}, function(res){\n                                if(res.status) {\n                                    that.mdui.snackbar({\n                                        message: res.msg\n                                    })\n                                    that.isSignIn = true\n                                    that.global.visitor.isSignIn = true\n                                    that.store.set('uuid', res.data.uuid)\n                                }else {\n                                    that.mdui.snackbar({\n                                        message: res.msg\n                                    })\n                                }\n                            },\"json\")\n                        }\n                    }\n                ]\n            })\n        },\n        showSignOutDialog: function() {\n            this.store.remove('uuid')\n            this.global.visitor.isSignIn = false\n            this.isSignIn = false\n            this.mdui.alert('退出完成')\n        }\n    },\n    created() {\n        this.isLightColor = this.store.has('isLightColor')?this.store.get('isLightColor'):true\n        if(this.store.has('uuid')) this.isSignIn = true\n    },\n    watch: {\n        /*'global.visitor.isSignIn': {\n            handler: function (newVal, oldVal){\n                this.isSignIn = this.global.visitor.isSignIn\n                console.log(\"watch\",this.global.visitor.isSignIn,newVal,oldVal)\n            },\n            deep: true,\n            immediate: true\n        }*/\n        // 如果路由有变化，会再次执行该方法\n        //'$route': 'getVisitorInformation'\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}