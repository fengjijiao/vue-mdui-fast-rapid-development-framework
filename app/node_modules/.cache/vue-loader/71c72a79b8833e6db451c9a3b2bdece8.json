{"remainingRequest":"/home/app/Www/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/app/Www/app/src/components/Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/app/Www/app/src/components/Menu.vue","mtime":1583667574877},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdNZW51JywKICAgIHByb3BzOiB7CiAgICAgICAgLy8KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzaG93U2V0dGluZ3NEaWFsb2c6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgdGhhdD10aGlzOwogICAgICAgICAgICB0aGF0Lm1kdWkuZGlhbG9nKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn6K6+572uJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6Jzxmb3JtIGlkPSJmb3JtU2V0dGluZ3MiPicgCiAgICAgICAgICAgICAgICAgICAgKyc8cCBjbGFzcz0ibWR1aS10eXBvLXN1YmhlYWRpbmciPuS4u+mimOiJsjwvcD4nCiAgICAgICAgICAgICAgICAgICAgKyc8ZGl2IGNsYXNzPSJtZHVpLXJvdy14cy0zIj4nCiAgICAgICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgICAgICArJzxkaXYgY2xhc3M9Im1kdWktY29sIj4nCiAgICAgICAgICAgICAgICAgICAgKyc8bGFiZWwgY2xhc3M9Im1kdWktcmFkaW8iPicKICAgICAgICAgICAgICAgICAgICArJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iaXNMaWdodENvbG9yIiB2YWx1ZT0idHJ1ZSIgJysodGhhdC5pc0xpZ2h0Q29sb3I/J2NoZWNrZWQnOicnKSsnLz4nCiAgICAgICAgICAgICAgICAgICAgKyc8aSBjbGFzcz0ibWR1aS1yYWRpby1pY29uIj48L2k+JwogICAgICAgICAgICAgICAgICAgICsnTGlnaHQnCiAgICAgICAgICAgICAgICAgICAgKyc8L2xhYmVsPicKICAgICAgICAgICAgICAgICAgICArJzwvZGl2PicKICAgICAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS1jb2wiPicKICAgICAgICAgICAgICAgICAgICArJzxsYWJlbCBjbGFzcz0ibWR1aS1yYWRpbyI+JwogICAgICAgICAgICAgICAgICAgICsnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJpc0xpZ2h0Q29sb3IiIHZhbHVlPSJmYWxzZSIgJysodGhhdC5pc0xpZ2h0Q29sb3I/Jyc6J2NoZWNrZWQnKSsnLz4nCiAgICAgICAgICAgICAgICAgICAgKyc8aSBjbGFzcz0ibWR1aS1yYWRpby1pY29uIj48L2k+JwogICAgICAgICAgICAgICAgICAgICsnRGFyaycKICAgICAgICAgICAgICAgICAgICArJzwvbGFiZWw+JwogICAgICAgICAgICAgICAgICAgICsnPC9kaXY+JwogICAgICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAgICAgKyc8L2Rpdj4nCiAgICAgICAgICAgICAgICAgICAgKyc8L2Zyb20+JywKICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICflj5bmtognCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfnoa7orqQnLAogICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSB0aGF0Lmdsb2JhbC5mb3JtU2VyaWFsaXplQXJyYXlUb0RpY3QodGhhdC4kJCgnZm9ybSNmb3JtU2V0dGluZ3MnKS5zZXJpYWxpemVBcnJheSgpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5idXMuJGVtaXQoJ2dsb2JhbF90aGVtZUNvbG9yJywgZm9ybURhdGEuaXNMaWdodENvbG9yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdG9yZS5zZXQoJ2lzTGlnaHRDb2xvcicsIGZvcm1EYXRhLmlzTGlnaHRDb2xvcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZvcm1EYXRhLmlzTGlnaHRDb2xvciAhPSB0aGF0LmlzTGlnaHRDb2xvcikgdGhhdC5nbG9iYWwudG9nZ2xlQm9keUNsYXNzKCJtZHVpLXRoZW1lLWxheW91dC1kYXJrIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmlzTGlnaHRDb2xvciA9IGZvcm1EYXRhLmlzTGlnaHRDb2xvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubWR1aS5zbmFja2Jhcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv53lrZjlrozmiJAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzaG93U2lnbkluRGlhbG9nOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHRoYXQ9dGhpczsKICAgICAgICAgICAgdGhhdC5tZHVpLmRpYWxvZyh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+eZu+W9lScsCiAgICAgICAgICAgICAgICBjb250ZW50OiAnPGZvcm0gaWQ9ImZvcm1TaWduSW4iPicKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS10ZXh0ZmllbGQgbWR1aS10ZXh0ZmllbGQtZmxvYXRpbmctbGFiZWwiPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8bGFiZWwgY2xhc3M9Im1kdWktdGV4dGZpZWxkLWxhYmVsIj7nlKjmiLflkI08L2xhYmVsPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8aW5wdXQgY2xhc3M9Im1kdWktdGV4dGZpZWxkLWlucHV0IiB0eXBlPSJ0ZXh0IiBuYW1lPSJ1c2VybmFtZSIgcmVxdWlyZWQvPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8ZGl2IGNsYXNzPSJtZHVpLXRleHRmaWVsZC1lcnJvciI+55So5oi35ZCN5LiN6IO95Li656m6PC9kaXY+JwogICAgICAgICAgICAgICAgICAgICAgICArJzwvZGl2PicKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICsnPGRpdiBjbGFzcz0ibWR1aS10ZXh0ZmllbGQgbWR1aS10ZXh0ZmllbGQtZmxvYXRpbmctbGFiZWwiPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8bGFiZWwgY2xhc3M9Im1kdWktdGV4dGZpZWxkLWxhYmVsIj7lr4bnoIE8L2xhYmVsPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8aW5wdXQgY2xhc3M9Im1kdWktdGV4dGZpZWxkLWlucHV0IiB0eXBlPSJ0ZXh0IiBwYXR0ZXJuPSJeLiooPz0uezYsfSkoPz0uKlthLXpdKSg/PS4qW0EtWl0pLiokIiBuYW1lPSJwYXNzd29yZCIgcmVxdWlyZWQvPicKICAgICAgICAgICAgICAgICAgICAgICAgKyc8ZGl2IGNsYXNzPSJtZHVpLXRleHRmaWVsZC1lcnJvciI+5a+G56CB6Iez5bCRIDYg5L2N77yM5LiU5YyF5ZCr5aSn5bCP5YaZ5a2X5q+NPC9kaXY+JwogICAgICAgICAgICAgICAgICAgICAgICArJzwvZGl2PicKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICsnPC9mb3JtPicsCiAgICAgICAgICAgICAgICBidXR0b25zOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5Y+W5raIJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn56Gu6K6kJywKICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gdGhhdC5nbG9iYWwuZm9ybVNlcmlhbGl6ZUFycmF5VG9EaWN0KHRoYXQuJCQoJ2Zvcm0jZm9ybVNpZ25JbicpLnNlcmlhbGl6ZUFycmF5KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LiQucG9zdCgnaHR0cHM6Ly9hcGkuZmVuZ2ppamlhby5jbi92MS91c2VyL3NpZ25JbicsIHt1c2VybmFtZTogZm9ybURhdGEudXNlcm5hbWUsIHBhc3N3b3JkOiBmb3JtRGF0YS5wYXNzd29yZH0sIGZ1bmN0aW9uKHJlcyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLnN0YXR1cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm1kdWkuc25hY2tiYXIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmlzU2lnbkluID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lmdsb2JhbC52aXNpdG9yLmlzU2lnbkluID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0b3JlLnNldCgndXVpZCcsIHJlcy5kYXRhLnV1aWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm1kdWkuc25hY2tiYXIoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sImpzb24iKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2hvd1NpZ25PdXREaWFsb2c6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLnN0b3JlLnJlbW92ZSgndXVpZCcpCiAgICAgICAgICAgIHRoaXMuZ2xvYmFsLnZpc2l0b3IuaXNTaWduSW4gPSBmYWxzZQogICAgICAgICAgICB0aGlzLmlzU2lnbkluID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5tZHVpLmFsZXJ0KCfpgIDlh7rlrozmiJAnKQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuaXNMaWdodENvbG9yID0gdGhpcy5zdG9yZS5oYXMoJ2lzTGlnaHRDb2xvcicpP3RoaXMuc3RvcmUuZ2V0KCdpc0xpZ2h0Q29sb3InKTp0cnVlCiAgICAgICAgaWYodGhpcy5zdG9yZS5oYXMoJ3V1aWQnKSkgdGhpcy5pc1NpZ25JbiA9IHRydWUKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGlzU2lnbkluKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy54c3RvcmUuc3RhdGUuaXNTaWduSW4KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <ul class=\"mdui-menu\" id=\"right-menu\">\n        <li class=\"mdui-menu-item\">\n            <a href=\"javascript:;\" class=\"mdui-ripple\">Refresh</a>\n        </li>\n        <li class=\"mdui-menu-item\" disabled>\n            <a href=\"javascript:;\">Help & feedback</a>\n        </li>\n        <li class=\"mdui-menu-item\">\n            <a v-on:click=\"showSettingsDialog\" class=\"mdui-ripple\">Settings</a>\n        </li>\n        <li class=\"mdui-divider\"></li>\n        <li class=\"mdui-menu-item\" v-if=\"isSignIn\">\n            <a v-on:click=\"showSignOutDialog\" class=\"mdui-ripple\">Sign out</a>\n        </li>\n        <li class=\"mdui-menu-item\" v-else>\n            <a v-on:click=\"showSignInDialog\" class=\"mdui-ripple\">Sign in</a>\n        </li>\n    </ul>\n</template>\n\n<script>\nexport default {\n    name: 'Menu',\n    props: {\n        //\n    },\n    data() {\n        return {\n            //\n        }\n    },\n    methods: {\n        showSettingsDialog: function() {\n            var that=this;\n            that.mdui.dialog({\n                title: '设置',\n                content:'<form id=\"formSettings\">' \n                    +'<p class=\"mdui-typo-subheading\">主题色</p>'\n                    +'<div class=\"mdui-row-xs-3\">'\n                    //\n                    +'<div class=\"mdui-col\">'\n                    +'<label class=\"mdui-radio\">'\n                    +'<input type=\"radio\" name=\"isLightColor\" value=\"true\" '+(that.isLightColor?'checked':'')+'/>'\n                    +'<i class=\"mdui-radio-icon\"></i>'\n                    +'Light'\n                    +'</label>'\n                    +'</div>'\n                    //\n                    +'<div class=\"mdui-col\">'\n                    +'<label class=\"mdui-radio\">'\n                    +'<input type=\"radio\" name=\"isLightColor\" value=\"false\" '+(that.isLightColor?'':'checked')+'/>'\n                    +'<i class=\"mdui-radio-icon\"></i>'\n                    +'Dark'\n                    +'</label>'\n                    +'</div>'\n                    //\n                    +'</div>'\n                    +'</from>',\n                buttons: [\n                    {\n                        text: '取消'\n                    },\n                    {\n                        text: '确认',\n                        onClick: function(){\n                            const formData = that.global.formSerializeArrayToDict(that.$$('form#formSettings').serializeArray())\n                            that.bus.$emit('global_themeColor', formData.isLightColor)\n                            that.store.set('isLightColor', formData.isLightColor)\n                            if(formData.isLightColor != that.isLightColor) that.global.toggleBodyClass(\"mdui-theme-layout-dark\")\n                                that.isLightColor = formData.isLightColor\n                                that.mdui.snackbar({\n                                    message: '保存完成'\n                                });\n                        }\n                    }\n                ]\n            })\n        },\n        showSignInDialog: function() {\n            var that=this;\n            that.mdui.dialog({\n                title: '登录',\n                content: '<form id=\"formSignIn\">'\n                        \n                        +'<div class=\"mdui-textfield mdui-textfield-floating-label\">'\n                        +'<label class=\"mdui-textfield-label\">用户名</label>'\n                        +'<input class=\"mdui-textfield-input\" type=\"text\" name=\"username\" required/>'\n                        +'<div class=\"mdui-textfield-error\">用户名不能为空</div>'\n                        +'</div>'\n                        \n                        +'<div class=\"mdui-textfield mdui-textfield-floating-label\">'\n                        +'<label class=\"mdui-textfield-label\">密码</label>'\n                        +'<input class=\"mdui-textfield-input\" type=\"text\" pattern=\"^.*(?=.{6,})(?=.*[a-z])(?=.*[A-Z]).*$\" name=\"password\" required/>'\n                        +'<div class=\"mdui-textfield-error\">密码至少 6 位，且包含大小写字母</div>'\n                        +'</div>'\n                        \n                        +'</form>',\n                buttons: [\n                    {\n                        text: '取消'\n                    },\n                    {\n                        text: '确认',\n                        onClick: function(){\n                            const formData = that.global.formSerializeArrayToDict(that.$$('form#formSignIn').serializeArray())\n                            that.$.post('https://api.fengjijiao.cn/v1/user/signIn', {username: formData.username, password: formData.password}, function(res){\n                                if(res.status) {\n                                    that.mdui.snackbar({\n                                        message: res.msg\n                                    })\n                                    that.isSignIn = true\n                                    that.global.visitor.isSignIn = true\n                                    that.store.set('uuid', res.data.uuid)\n                                }else {\n                                    that.mdui.snackbar({\n                                        message: res.msg\n                                    })\n                                }\n                            },\"json\")\n                        }\n                    }\n                ]\n            })\n        },\n        showSignOutDialog: function() {\n            this.store.remove('uuid')\n            this.global.visitor.isSignIn = false\n            this.isSignIn = false\n            this.mdui.alert('退出完成')\n        }\n    },\n    created() {\n        this.isLightColor = this.store.has('isLightColor')?this.store.get('isLightColor'):true\n        if(this.store.has('uuid')) this.isSignIn = true\n    },\n    computed: {\n        isSignIn() {\n            return this.xstore.state.isSignIn\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}