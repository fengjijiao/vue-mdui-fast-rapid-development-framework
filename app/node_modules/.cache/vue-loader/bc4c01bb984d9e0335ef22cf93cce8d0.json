{"remainingRequest":"/home/app/Www/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/app/Www/app/src/components/Context/Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/app/Www/app/src/components/Context/Message.vue","mtime":1583668926703},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdNZXNzYWdlJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbWVzc2FnZXM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+aYvuekunzpmpDol4/mtojmga/nmoTor6bnu4bkv6Hmga8KICAgICAgICBzaG93RGV0YWlsTXNnOiBmdW5jdGlvbihtc2cpIHsKICAgICAgICAgICAgaWYobXNnLnNob3dEZXRhaWwpIHsKICAgICAgICAgICAgICAgIG1zZy5zaG93RGV0YWlsID0gZmFsc2UKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgbXNnLnNob3dEZXRhaWwgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBpbml0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzCiAgICAgICAgICAgIGlmKHRoYXQuaXNTaWduSW4gfHwgdGhhdC5zdG9yZS5oYXMoJ3V1aWQnKSkgewogICAgICAgICAgICAgICAgdGhhdC4kLnBvc3QoJ2h0dHBzOi8vYXBpLmZlbmdqaWppYW8uY24vdjEvdXNlci9nZXRNZXNzYWdlJywge3V1aWQ6IHRoYXQuc3RvcmUuZ2V0KCd1dWlkJyl9LCBmdW5jdGlvbihyZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8cmVzLmRhdGEubGVuZ3RoO2krKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0ID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6Ziy5q2i5raI5oGv5pys5L2T6YeN5aSNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDtqPHRoYXQubWVzc2FnZXMubGVuZ3RoO2orKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoYXQubWVzc2FnZXNbal0ubWlkID09IHJlcy5kYXRhW2ldLm1pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdCA9IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihleGlzdCkgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubWVzc2FnZXMucHVzaCh7Im1pZCI6cmVzLmRhdGFbaV0ubWlkLCJ0aXRsZSI6cmVzLmRhdGFbaV0udGl0bGUsImRlc2NyaXB0aW9uIjpyZXMuZGF0YVtpXS5kZXNjcmlwdGlvbiwiY29udGVudCI6cmVzLmRhdGFbaV0uY29udGVudCwic2hvd0RldGFpbCI6ZmFsc2V9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lm1kdWkuZGlhbG9nKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfml6Dku7vkvZXmtojmga/vvIEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+ehruiupCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2hvbWUnIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwnanNvbicpCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8OTtpKyspIHsKICAgICAgICAgICAgICAgICAgICB0aGF0Lm1lc3NhZ2VzLnB1c2goeyJtaWQiOmksInRpdGxlIjoi5omT5Y2h5oiQ5YqfIiwiZGVzY3JpcHRpb24iOm5ldyBEYXRlKCksImNvbnRlbnQiOiJva2tra2tra2tra2tra2tra2tra2trIiwic2hvd0RldGFpbCI6ZmFsc2V9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgaXNTaWduSW4oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnhzdG9yZS5zdGF0ZS5pc1NpZ25JbgogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdpc1NpZ25Jbic6IHsKICAgICAgICAgICAgaGFuZGxlcihuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpc1NpZ25JbjogbmV3VmFsdWUiLCBuZXdWYWx1ZSwgIm9sZFZhbHVlIiwgb2xkVmFsdWUpCiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbW1lZGlhdGU6IHRydWUKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Message.vue","sourceRoot":"src/components/Context","sourcesContent":["<template>\n    <div class=\"mdui-container\">\n        <!--context start-->\n        <div class=\"mdui-row\">\n            <div class=\"msg mdui-col-sm-6 mdui-col-md-4\" v-for=\"msg in messages\" v-bind:key=\"msg.mid\">\n                <div class=\"mdui-card\">\n                    <div class=\"mdui-card-primary\">\n                        <div class=\"mdui-card-primary-title\">{{ msg.title }}</div>\n                        <div class=\"mdui-card-primary-subtitle\">{{ msg.description }}</div>\n                    </div>\n                    <div class=\"mdui-card-content\" v-show=\"msg.showDetail\">{{ msg.content }}</div>\n                    <div class=\"mdui-card-actions\">\n                        <button class=\"mdui-btn mdui-btn-icon mdui-float-right mdui-ripple\" v-on:click=\"showDetailMsg(msg)\"><i class=\"mdui-icon material-icons\">{{ msg.showDetail?'expand_less':'expand_more' }}</i></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!--context end-->\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Message',\n    data() {\n        return {\n            messages: []\n        }\n    },\n    methods: {\n        //显示|隐藏消息的详细信息\n        showDetailMsg: function(msg) {\n            if(msg.showDetail) {\n                msg.showDetail = false\n            }else {\n                msg.showDetail = true\n            }\n            \n        },\n        init: function() {\n            var that = this\n            if(that.isSignIn || that.store.has('uuid')) {\n                that.$.post('https://api.fengjijiao.cn/v1/user/getMessage', {uuid: that.store.get('uuid')}, function(res) {\n                    if(res.status) {\n                        for(var i=0;i<res.data.length;i++) {\n                            var exist = false\n                            //防止消息本体重复\n                            for(var j=0;j<that.messages.length;j++) {\n                                if(that.messages[j].mid == res.data[i].mid) {\n                                    exist = true\n                                    break\n                                }\n                            }\n                            if(exist) continue\n                            that.messages.push({\"mid\":res.data[i].mid,\"title\":res.data[i].title,\"description\":res.data[i].description,\"content\":res.data[i].content,\"showDetail\":false})\n                        }\n                    }else {\n                        that.mdui.dialog({\n                            title: '提示',\n                            content: '无任何消息！',\n                            buttons: [\n                                {\n                                    text: '确认',\n                                    onClick: function() {\n                                        that.$router.push({ path: '/home' })\n                                    }\n                                }\n                            ]\n                        })\n                    }\n                },'json')\n            }else {\n                for(var i=0;i<9;i++) {\n                    that.messages.push({\"mid\":i,\"title\":\"打卡成功\",\"description\":new Date(),\"content\":\"okkkkkkkkkkkkkkkkkkkkk\",\"showDetail\":false})\n                }\n            }\n        }\n    },\n    computed: {\n        isSignIn() {\n            return this.xstore.state.isSignIn\n        }\n    },\n    watch: {\n        'isSignIn': {\n            handler(newValue, oldValue) {\n                console.log(\"isSignIn: newValue\", newValue, \"oldValue\", oldValue)\n                this.init()\n            },\n            immediate: true\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.msg {\n    margin-top: 20px;\n}\n</style>"]}]}