{"remainingRequest":"/home/app/Www/app/node_modules/babel-loader/lib/index.js!/home/app/Www/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/app/Www/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/app/Www/app/src/components/Context/Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/app/Www/app/src/components/Context/Message.vue","mtime":1583668926703},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/app/Www/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNZXNzYWdlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/mmL7npLp86ZqQ6JeP5raI5oGv55qE6K+m57uG5L+h5oGvCiAgICBzaG93RGV0YWlsTXNnOiBmdW5jdGlvbiBzaG93RGV0YWlsTXNnKG1zZykgewogICAgICBpZiAobXNnLnNob3dEZXRhaWwpIHsKICAgICAgICBtc2cuc2hvd0RldGFpbCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIG1zZy5zaG93RGV0YWlsID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICh0aGF0LmlzU2lnbkluIHx8IHRoYXQuc3RvcmUuaGFzKCd1dWlkJykpIHsKICAgICAgICB0aGF0LiQucG9zdCgnaHR0cHM6Ly9hcGkuZmVuZ2ppamlhby5jbi92MS91c2VyL2dldE1lc3NhZ2UnLCB7CiAgICAgICAgICB1dWlkOiB0aGF0LnN0b3JlLmdldCgndXVpZCcpCiAgICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHZhciBleGlzdCA9IGZhbHNlOyAvL+mYsuatoua2iOaBr+acrOS9k+mHjeWkjQoKICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoYXQubWVzc2FnZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmICh0aGF0Lm1lc3NhZ2VzW2pdLm1pZCA9PSByZXMuZGF0YVtpXS5taWQpIHsKICAgICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChleGlzdCkgY29udGludWU7CiAgICAgICAgICAgICAgdGhhdC5tZXNzYWdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICJtaWQiOiByZXMuZGF0YVtpXS5taWQsCiAgICAgICAgICAgICAgICAidGl0bGUiOiByZXMuZGF0YVtpXS50aXRsZSwKICAgICAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6IHJlcy5kYXRhW2ldLmRlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgImNvbnRlbnQiOiByZXMuZGF0YVtpXS5jb250ZW50LAogICAgICAgICAgICAgICAgInNob3dEZXRhaWwiOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0Lm1kdWkuZGlhbG9nKHsKICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgICAgY29udGVudDogJ+aXoOS7u+S9lea2iOaBr++8gScsCiAgICAgICAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgICAgICAgIHRleHQ6ICfnoa7orqQnLAogICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgICAgICAgdGhhdC4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvaG9tZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgJ2pzb24nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDk7IGkrKykgewogICAgICAgICAgdGhhdC5tZXNzYWdlcy5wdXNoKHsKICAgICAgICAgICAgIm1pZCI6IGksCiAgICAgICAgICAgICJ0aXRsZSI6ICLmiZPljaHmiJDlip8iLAogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiBuZXcgRGF0ZSgpLAogICAgICAgICAgICAiY29udGVudCI6ICJva2tra2tra2tra2tra2tra2tra2trIiwKICAgICAgICAgICAgInNob3dEZXRhaWwiOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNTaWduSW46IGZ1bmN0aW9uIGlzU2lnbkluKCkgewogICAgICByZXR1cm4gdGhpcy54c3RvcmUuc3RhdGUuaXNTaWduSW47CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ2lzU2lnbkluJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJpc1NpZ25JbjogbmV3VmFsdWUiLCBuZXdWYWx1ZSwgIm9sZFZhbHVlIiwgb2xkVmFsdWUpOwogICAgICAgIHRoaXMuaW5pdCgpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"sources":["Message.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"mdui-container\">\n        <!--context start-->\n        <div class=\"mdui-row\">\n            <div class=\"msg mdui-col-sm-6 mdui-col-md-4\" v-for=\"msg in messages\" v-bind:key=\"msg.mid\">\n                <div class=\"mdui-card\">\n                    <div class=\"mdui-card-primary\">\n                        <div class=\"mdui-card-primary-title\">{{ msg.title }}</div>\n                        <div class=\"mdui-card-primary-subtitle\">{{ msg.description }}</div>\n                    </div>\n                    <div class=\"mdui-card-content\" v-show=\"msg.showDetail\">{{ msg.content }}</div>\n                    <div class=\"mdui-card-actions\">\n                        <button class=\"mdui-btn mdui-btn-icon mdui-float-right mdui-ripple\" v-on:click=\"showDetailMsg(msg)\"><i class=\"mdui-icon material-icons\">{{ msg.showDetail?'expand_less':'expand_more' }}</i></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!--context end-->\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Message',\n    data() {\n        return {\n            messages: []\n        }\n    },\n    methods: {\n        //显示|隐藏消息的详细信息\n        showDetailMsg: function(msg) {\n            if(msg.showDetail) {\n                msg.showDetail = false\n            }else {\n                msg.showDetail = true\n            }\n            \n        },\n        init: function() {\n            var that = this\n            if(that.isSignIn || that.store.has('uuid')) {\n                that.$.post('https://api.fengjijiao.cn/v1/user/getMessage', {uuid: that.store.get('uuid')}, function(res) {\n                    if(res.status) {\n                        for(var i=0;i<res.data.length;i++) {\n                            var exist = false\n                            //防止消息本体重复\n                            for(var j=0;j<that.messages.length;j++) {\n                                if(that.messages[j].mid == res.data[i].mid) {\n                                    exist = true\n                                    break\n                                }\n                            }\n                            if(exist) continue\n                            that.messages.push({\"mid\":res.data[i].mid,\"title\":res.data[i].title,\"description\":res.data[i].description,\"content\":res.data[i].content,\"showDetail\":false})\n                        }\n                    }else {\n                        that.mdui.dialog({\n                            title: '提示',\n                            content: '无任何消息！',\n                            buttons: [\n                                {\n                                    text: '确认',\n                                    onClick: function() {\n                                        that.$router.push({ path: '/home' })\n                                    }\n                                }\n                            ]\n                        })\n                    }\n                },'json')\n            }else {\n                for(var i=0;i<9;i++) {\n                    that.messages.push({\"mid\":i,\"title\":\"打卡成功\",\"description\":new Date(),\"content\":\"okkkkkkkkkkkkkkkkkkkkk\",\"showDetail\":false})\n                }\n            }\n        }\n    },\n    computed: {\n        isSignIn() {\n            return this.xstore.state.isSignIn\n        }\n    },\n    watch: {\n        'isSignIn': {\n            handler(newValue, oldValue) {\n                console.log(\"isSignIn: newValue\", newValue, \"oldValue\", oldValue)\n                this.init()\n            },\n            immediate: true\n        }\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.msg {\n    margin-top: 20px;\n}\n</style>"],"sourceRoot":"src/components/Context"}]}